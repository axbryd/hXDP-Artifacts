
xdp_sample_pkts_kern.o:	file format ELF64-BPF

Disassembly of section xdp_sample:
xdp_sample_prog:
; {
       0:	61 12 00 00 00 00 00 00 	r2 = *(u32 *)(r1 + 0)
; void *data_end = (void *)(long)ctx->data_end;
       1:	61 13 04 00 00 00 00 00 	r3 = *(u32 *)(r1 + 4)
; if (data < data_end) {
       2:	3d 32 28 00 00 00 00 00 	if r2 >= r3 goto +40 <LBB0_5>
; metadata.pkt_len = (u16)(data_end - data);
       3:	1f 23 00 00 00 00 00 00 	r3 -= r2
; metadata.cookie = 0xdead;
       4:	b7 02 00 00 ad de 00 00 	r2 = 57005
       5:	6b 2a f8 ff 00 00 00 00 	*(u16 *)(r10 - 8) = r2
; metadata.pkt_len = (u16)(data_end - data);
       6:	6b 3a fa ff 00 00 00 00 	*(u16 *)(r10 - 6) = r3
; sample_size = min(metadata.pkt_len, SAMPLE_SIZE);
       7:	57 03 00 00 ff ff 00 00 	r3 &= 65535
       8:	b7 02 00 00 40 00 00 00 	r2 = 64
       9:	2d 32 01 00 00 00 00 00 	if r2 > r3 goto +1 <LBB0_3>
      10:	b7 03 00 00 40 00 00 00 	r3 = 64

LBB0_3:
; flags |= (u64)sample_size << 32;
      11:	67 03 00 00 20 00 00 00 	r3 <<= 32
      12:	18 02 00 00 ff ff ff ff 00 00 00 00 00 00 00 00 	r2 = 4294967295 ll
      14:	4f 23 00 00 00 00 00 00 	r3 |= r2
      15:	bf a4 00 00 00 00 00 00 	r4 = r10
      16:	07 04 00 00 f8 ff ff ff 	r4 += -8
; ret = bpf_perf_event_output(ctx, &my_map, flags,
      17:	18 02 00 00 00 00 00 00 00 00 00 00 00 00 00 00 	r2 = 0 ll
      19:	b7 05 00 00 04 00 00 00 	r5 = 4
      20:	85 00 00 00 19 00 00 00 	call 25
      21:	bf 01 00 00 00 00 00 00 	r1 = r0
      22:	67 01 00 00 20 00 00 00 	r1 <<= 32
      23:	77 01 00 00 20 00 00 00 	r1 >>= 32
; if (ret)
      24:	15 01 12 00 00 00 00 00 	if r1 == 0 goto +18 <LBB0_5>
; bpf_printk("perf_event_output failed: %d\n", ret);
      25:	b7 01 00 00 0a 00 00 00 	r1 = 10
      26:	6b 1a ec ff 00 00 00 00 	*(u16 *)(r10 - 20) = r1
      27:	b7 01 00 00 3a 20 25 64 	r1 = 1680154682
      28:	63 1a e8 ff 00 00 00 00 	*(u32 *)(r10 - 24) = r1
      29:	18 01 00 00 74 20 66 61 00 00 00 00 69 6c 65 64 	r1 = 7234307576302018676 ll
      31:	7b 1a e0 ff 00 00 00 00 	*(u64 *)(r10 - 32) = r1
      32:	18 01 00 00 6e 74 5f 6f 00 00 00 00 75 74 70 75 	r1 = 8462391747557684334 ll
      34:	7b 1a d8 ff 00 00 00 00 	*(u64 *)(r10 - 40) = r1
      35:	18 01 00 00 70 65 72 66 00 00 00 00 5f 65 76 65 	r1 = 7311142505497650544 ll
      37:	7b 1a d0 ff 00 00 00 00 	*(u64 *)(r10 - 48) = r1
      38:	bf a1 00 00 00 00 00 00 	r1 = r10
      39:	07 01 00 00 d0 ff ff ff 	r1 += -48
      40:	b7 02 00 00 1e 00 00 00 	r2 = 30
      41:	bf 03 00 00 00 00 00 00 	r3 = r0
      42:	85 00 00 00 06 00 00 00 	call 6

LBB0_5:
; return XDP_PASS;
      43:	b7 00 00 00 02 00 00 00 	r0 = 2
      44:	95 00 00 00 00 00 00 00 	exit
